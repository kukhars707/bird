(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},17:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(15),l=a(16),o=a.n(l),s=a(3),c=a(4),h=a(6),u=a(5),d=a(7),p=a(2),f=a(1),v=a.n(f);a(28);var m,b=function(){return n.a.createElement("div",{id:"bird"})},O=(a(12),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).score=0,a.height=v()(window).height()-100,a.isSpaceBarClicked=!1,a.fallDown=a.fallDown.bind(Object(p.a)(Object(p.a)(a))),a.intervalID=setInterval(a.fallDown,109),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v()("body").keypress(function(t){return e.handleKeyPress(t)})}},{key:"handleKeyPress",value:function(e){var t=this;32!==e.keyCode||this.props.isGameOver||(this.isSpaceBarClicked=!0,v()("#bird").position().top>40?v()("#bird").animate({top:"-=50px"},120,"linear",function(){t.isSpaceBarClicked=!1;var e=document.getElementsByClassName("pillar");if(t.collisionOccurred(v()("#bird"),v()(e[0]),v()(e[1])))t.props.handleGameOver(!0);else{var a=e[0].getBoundingClientRect();m!==e[0]&&v()("#bird").position().left>a.left&&(t.score++,t.props.handleScore(t.score),m=e[0])}}):(t.props.handleGameOver(!0),this.isSpaceBarClicked=!1))}},{key:"fallDown",value:function(){var e=this;this.isSpaceBarClicked||(v()("#bird").position().top<this.height?(v()("#bird").animate({top:"+=25px"},110,"linear",function(){var t=document.getElementsByClassName("pillar");e.collisionOccurred(v()("#bird"),v()(t[0]),v()(t[1]))&&e.props.handleGameOver(!0)}),this.isSpaceBarClicked=!1):(e.props.handleGameOver(!0),clearInterval(this.intervalID)))}},{key:"collisionOccurred",value:function(e,t,a){var i=e.offset().left,n=e.width(),r=e.offset().top,l=r+e.height(),o=i+n,s=t.offset().left,c=t.width(),h=t.offset().top+t.height(),u=s+c,d=a.offset().left,p=a.width(),f=a.offset().top;return!(r>h||o<s||i>u)||!(l<f||r<f||o<d||i>d+p)}},{key:"render",value:function(){return n.a.createElement(b,null)}}]),t}(n.a.Component)),k=a(8);var y=function(e){return e.pillars},g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={pillars:[]},a.leftMargin=300,a.windowHeight=v()(document).height()-v()("body").offset().top-80,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.updatePillars()},1e3),this.moveLeft()}},{key:"moveLeft",value:function(){var e=this;this.props.isGameOver?v()("[id^=pillar]").stop(!0):v()("[id^=pillar]").animate({left:"-=40px"},250,"linear",function(){e.moveLeft()})}},{key:"updatePillars",value:function(){if(this.props.isGameOver)clearInterval(this.timerID);else{var e=this.state.pillars;if(e.length<=10){var t=Math.floor(250*Math.random())+80,a=this.windowHeight-t-60,i="pillar"+Object(k.v4)(),r="pillar"+Object(k.v4)();e.push(n.a.createElement("div",{style:{position:"absolute",height:t,left:this.leftMargin+"px",width:"50px",backgroundColor:"white"},key:Object(k.v4)(),id:i,className:"pillar"})),e.push(n.a.createElement("div",{style:{position:"absolute",height:a,top:t+120,left:this.leftMargin+"px",width:"50px",backgroundColor:"white"},key:Object(k.v4)(),id:r,className:"pillar"}))}else e.shift(),e.shift();this.setState({pillars:e},function(){})}}},{key:"componentWillMount",value:function(){for(var e=[],t=v()(window).height()-v()("body").offset().top-80,a=0;a<10;a+=2){var i=Math.floor(250*Math.random())+80,r=t-i-60,l="pillar"+a,o="pillar"+(a+1);e.push(n.a.createElement("div",{style:{position:"absolute",height:i,left:this.leftMargin+"px",width:"50px",backgroundColor:"white"},key:a,id:l,className:"pillar"})),e.push(n.a.createElement("div",{style:{position:"absolute",height:r,top:i+120,left:this.leftMargin+"px",width:"50px",backgroundColor:"white"},key:a+1,id:o,className:"pillar"})),a<=8?this.leftMargin+=250:this.leftMargin-=400}this.setState({pillars:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return n.a.createElement(y,{pillars:this.state.pillars})}}]),t}(n.a.Component);a(33);var w=function(e){return n.a.createElement("div",{id:"score"},e.score)};a(35);var G=function(e){return n.a.createElement("div",{id:"gameOver"},n.a.createElement("div",null,"Game Over!"),n.a.createElement("button",{onClick:function(){return document.location.reload()}},"Restart"))};a(37);var j=function(e){return n.a.createElement("div",{id:"startScreen"},n.a.createElement("div",null,"Press space bar to start the game..."))};var S=function(e){return e.isGameStarted?n.a.createElement("div",null,n.a.createElement(O,{isGameOver:e.isGameOver,handleGameOver:e.handleGameOver,handleScore:e.handleScore}),n.a.createElement(g,{isGameOver:e.isGameOver}),n.a.createElement(w,{score:e.score}),e.isGameOver&&n.a.createElement(G,null)):n.a.createElement(j,null)},E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={isGameOver:!1,score:0,isGameStarted:!1},a.handleGameOver=a.handleGameOver.bind(Object(p.a)(Object(p.a)(a))),a.handleScore=a.handleScore.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v()("body").keypress(function(t){32===t.keyCode&&e.setState({isGameStarted:!0})})}},{key:"handleGameOver",value:function(e){this.setState({isGameOver:e})}},{key:"handleScore",value:function(e){this.setState({score:e},function(){console.log(e)})}},{key:"render",value:function(){var e=this.state.isGameOver,t=this.state.score,a=this.state.isGameStarted;return n.a.createElement(S,{isGameOver:e,isGameStarted:a,score:t,handleGameOver:this.handleGameOver,handleScore:this.handleScore})}}]),t}(n.a.Component);o.a.send("VKWebAppInit"),Object(r.render)(n.a.createElement(E,null),document.getElementById("root"))}},[[17,2,1]]]);
//# sourceMappingURL=main.44f6e89e.chunk.js.map